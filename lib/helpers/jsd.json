

{
    "error": null,
    "errors": false,
    "item_count": 1,
    "item_offset": 0,
    "items_per_page": 20,
    "message": "SMS Messages for Specific Thread.",
    "result": {
        "messages": [
            {
                "answered_by": {
                    "account_id": 6,
                    "admin_advanced_call_flows": true,
                    "admin_ai": true,
                    "admin_analytics": false,
                    "admin_api_keys": true,
                    "admin_forms": true,
                    "admin_general_settings": true,
                    "admin_live_panel": true,
                    "admin_phone_numbers": true,
                    "admin_ten_dlc": true,
                    "admin_troubleshooting": true,
                    "admin_users": true,
                    "admin_webhooks": true,
                    "admin_workflows": true,
                    "calendly_access_token": null,
                    "calendly_error_with_integration": false,
                    "calendly_refresh_token": null,
                    "calendly_scope": null,
                    "calendly_token_expiry": null,
                    "calendly_token_type": null,
                    "calendly_user_id": null,
                    "call_recording_external": "enabled",
                    "call_recording_internal": "enabled",
                    "callforward_call_confirmation": false,
                    "callforward_enable": false,
                    "callforward_keep_caller_caller_id": false,
                    "callforward_number": "",
                    "callforward_queue_calls": false,
                    "contacts_settings_display_columns": {
                        "columns": []
                    },
                    "crm_contact_id": 547,
                    "crm_filters": {},
                    "default_outbound_callerid_name": "",
                    "default_outbound_callerid_number": "",
                    "faxing_settings_enable_notifications": true,
                    "historical_information": null,
                    "jitter_buffer": false,
                    "leads_settings_display_columns": {},
                    "operator_panel_group_id": null,
                    "operator_panel_setting_parking_slot_panel_pos": 3,
                    "operator_panel_setting_queues_panel_pos": 2,
                    "operator_panel_setting_show_parking_lot": true,
                    "operator_panel_setting_show_queues": true,
                    "operator_panel_setting_show_users": true,
                    "operator_panel_setting_users_panel_pos": 1,
                    "operator_panel_settings_users_panel_card_positions": {},
                    "pk": 1001,
                    "presence_id": "101",
                    "priv_level": "admin",
                    "scheduling_ai_last_used": null,
                    "status": null,
                    "user_settings": null,
                    "user_volume_preference": 73,
                    "vm_to_email_enabled": true,
                    "voicemail_box_id": "26",
                    "voicemail_enabled": true,
                    "web_phone_call_waiting": false,
                    "web_phone_enabled": true
                },
                "call_answered_user_id": 1001,
                "call_back_response": {},
                "call_direction": "outbound",
                "call_duration": 0,
                "call_status": "answered",
                "call_uniqueid": "ast02.itpvoice.net-1724353809.72250",
                "cdr": {
                    "account_id": "6",
                    "accountcode": null,
                    "amaflags": 3,
                    "billsec": 61,
                    // "call_recording_filename": "ast02.itpvoice.net-1724353809.72250.wav",
                    "calldate": "1724353809.0",
                    "channel": "PJSIP/km01-00005ad3",
                    "clid": "\"ITP 360 LLC\" <+13075453247>",
                    "customer_cost": "0.0000",
                    "dcontext": "from-internal",
                    "disposition": "ANSWERED",
                    "dnis": null,
                    "dst": "8554773007",
                    "dstchannel": "PJSIP/sbc01-00005ad4",
                    "duration": 61,
                    "forwarded_original_caller_id": null,
                    "forwarded_to_number": null,
                    "from_user_id": 1001,
                    "lastapp": "Dial",
                    "lastdata": "PJSIP/sbc01/sip:+18554773007@sbc01.itpvoice.net,45,rU(post-answer^^6^1001^+1855",
                    "legs": [
                        {
                            "account_id": "6",
                            "accountcode": null,
                            "amaflags": 3,
                            "billsec": 61,
                            "call_recording_filename": "ast02.itpvoice.net-1724353809.72250.wav",
                            "calldate": "1724353809.0",
                            "channel": "PJSIP/km01-00005ad3",
                            "clid": "\"ITP 360 LLC\" <+13075453247>",
                            "customer_cost": "0.0000",
                            "dcontext": "from-internal",
                            "disposition": "ANSWERED",
                            "dnis": null,
                            "dst": "8554773007",
                            "dstchannel": "PJSIP/sbc01-00005ad4",
                            "duration": 61,
                            "forwarded_original_caller_id": null,
                            "forwarded_to_number": null,
                            "from_user_id": 1001,
                            "lastapp": "Dial",
                            "lastdata": "PJSIP/sbc01/sip:+18554773007@sbc01.itpvoice.net,45,rU(post-answer^^6^1001^+1855",
                            "pk": 2308749,
                            "src": "+13075453247",
                            "to_user_id": null,
                            "uniqueid": "ast02.itpvoice.net-1724353809.72250",
                            "userfield": null
                        }
                    ],
                    "pk": 2308749,
                    "src": "+13075453247",
                    "to_user_id": null,
                    "uniqueid": "ast02.itpvoice.net-1724353809.72250",
                    "userfield": null
                },
                "item_type": "call",
                "message_body": "You made a call to +18554773007",
                "message_error_code": null,
                "message_error_description": null,
                "message_mms_media": null,
                "message_participant": "+13075453247",
                "message_participant_id": "231820",
                "message_provider_id": null,
                "message_status": "delivered",
                "message_thread_id": 115687,
                "message_timestamp": "2024-08-22 15:10:12",
                "message_timestamp_utc": "2024-08-22T19:10:12.677924",
                "mms_file_type": null,
                "pk": 335162,
                "voicemail_duration": 0,
                "voicemail_id": null,
                "voicemail_link": null,
                "voicemail_transcription": null
            }
        ],
        "participants": [
            {
                "is_self": false,
                "message_thread_id": "115687",
                "number": "+13075453247",
                "pk": 231820
            },
            {
                "is_self": false,
                "message_thread_id": "115687",
                "number": "+18554773007",
                "pk": 231821
            }
        ]
    }
}


{
    "error": null,
    "errors": false,
    "item_count": 1,
    "item_offset": 0,
    "items_per_page": 20,
    "message": "SMS Messages for Specific Thread.",
    "result": {
        "messages": [
            {
                "answered_by": {
                    "account_id": 6,
                    "admin_advanced_call_flows": true,
                    "admin_ai": true,
                    "admin_analytics": false,
                    "admin_api_keys": true,
                    "admin_forms": true,
                    "admin_general_settings": true,
                    "admin_live_panel": true,
                    "admin_phone_numbers": true,
                    "admin_ten_dlc": true,
                    "admin_troubleshooting": true,
                    "admin_users": true,
                    "admin_webhooks": true,
                    "admin_workflows": true,
                    "calendly_access_token": null,
                    "calendly_error_with_integration": false,
                    "calendly_refresh_token": null,
                    "calendly_scope": null,
                    "calendly_token_expiry": null,
                    "calendly_token_type": null,
                    "calendly_user_id": null,
                    "call_recording_external": "optional",
                    "call_recording_internal": "optional",
                    "callforward_call_confirmation": false,
                    "callforward_enable": false,
                    "callforward_keep_caller_caller_id": null,
                    "callforward_number": null,
                    "callforward_queue_calls": null,
                    "contacts_settings_display_columns": {},
                    "crm_contact_id": 777,
                    "crm_filters": {},
                    "default_outbound_callerid_name": null,
                    "default_outbound_callerid_number": null,
                    "faxing_settings_enable_notifications": true,
                    "historical_information": {},
                    "jitter_buffer": true,
                    "leads_settings_display_columns": {},
                    "operator_panel_group_id": null,
                    "operator_panel_setting_parking_slot_panel_pos": 3,
                    "operator_panel_setting_queues_panel_pos": 2,
                    "operator_panel_setting_show_parking_lot": true,
                    "operator_panel_setting_show_queues": true,
                    "operator_panel_setting_show_users": true,
                    "operator_panel_setting_users_panel_pos": 1,
                    "operator_panel_settings_users_panel_card_positions": {},
                    "pk": 1196,
                    "presence_id": "2222",
                    "priv_level": "admin",
                    "scheduling_ai_last_used": null,
                    "status": null,
                    "user_settings": null,
                    "user_volume_preference": 100,
                    "vm_to_email_enabled": true,
                    "voicemail_box_id": "278",
                    "voicemail_enabled": true,
                    "web_phone_call_waiting": false,
                    "web_phone_enabled": true
                },
                "call_answered_user_id": 1196,
                "call_back_response": {},
                "call_direction": "outbound",
                "call_duration": 0,
                "call_status": "answered",
                "call_uniqueid": "ast01.itpvoice.net-1726665187.95771",
                "cdr": {
                    "account_id": "6",
                    "accountcode": null,
                    "amaflags": 3,
                    "billsec": 2,
                    "call_recording_filename": null,
                    "calldate": "1726665187.0",
                    "channel": "PJSIP/km01-00005c25",
                    "clid": "\"ITP\" <+18882744529>",
                    "customer_cost": "0.0000",
                    "dcontext": "from-internal",
                    "disposition": "NO ANSWER",
                    "dnis": null,
                    "dst": "120",
                    "dstchannel": "PJSIP/sbc01-00005c26",
                    "duration": 2,
                    "forwarded_original_caller_id": null,
                    "forwarded_to_number": null,
                    "from_user_id": 1196,
                    "lastapp": "Dial",
                    "lastdata": "PJSIP/sbc01/sip:+120@sbc01.itpvoice.net,45,rU(post-answer^^6^1196^+120)",
                    "legs": [
                        {
                            "account_id": "6",
                            "accountcode": null,
                            "amaflags": 3,
                            "billsec": 2,
                            "call_recording_filename": null,
                            "calldate": "1726665187.0",
                            "channel": "PJSIP/km01-00005c25",
                            "clid": "\"ITP\" <+18882744529>",
                            "customer_cost": "0.0000",
                            "dcontext": "from-internal",
                            "disposition": "NO ANSWER",
                            "dnis": null,
                            "dst": "120",
                            "dstchannel": "PJSIP/sbc01-00005c26",
                            "duration": 2,
                            "forwarded_original_caller_id": null,
                            "forwarded_to_number": null,
                            "from_user_id": 1196,
                            "lastapp": "Dial",
                            "lastdata": "PJSIP/sbc01/sip:+120@sbc01.itpvoice.net,45,rU(post-answer^^6^1196^+120)",
                            "pk": 2371432,
                            "src": "+18882744529",
                            "to_user_id": null,
                            "uniqueid": "ast01.itpvoice.net-1726665187.95771",
                            "userfield": null
                        }
                    ],
                    "pk": 2371432,
                    "src": "+18882744529",
                    "to_user_id": null,
                    "uniqueid": "ast01.itpvoice.net-1726665187.95771",
                    "userfield": null
                },
                "item_type": "call",
                "message_body": "You made a call to +120",
                "message_error_code": null,
                "message_error_description": null,
                "message_mms_media": null,
                "message_participant": "+18882744529",
                "message_participant_id": "268318",
                "message_provider_id": null,
                "message_status": "delivered",
                "message_thread_id": 133925,
                "message_timestamp": "2024-09-18 09:13:11",
                "message_timestamp_utc": "2024-09-18T13:13:11.174492",
                "mms_file_type": null,
                "pk": 371295,
                "voicemail_duration": 0,
                "voicemail_id": null,
                "voicemail_link": null,
                "voicemail_transcription": null
            }
        ],
        "participants": [
            {
                "is_self": false,
                "message_thread_id": "133925",
                "number": "+120",
                "pk": 268317
            },
            {
                "is_self": false,
                "message_thread_id": "133925",
                "number": "+18882744529",
                "pk": 268318
            }
        ]
    }
}














https://api.itpscorp.com/portal/itpvoice/v2/6/cdr/2308749/download-recording/raw?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3MjcyMDQ0MDAsImlkIjoiNTQ3IiwiaWF0IjoxNzI3MTE4MDAwLCJhY2NvdW50X251bWJlciI6IjE4MjA1MTYyIiwidXNlcl9jb250YWN0Ijp7ImVtYWlsIjoiY2Flc2FyQGl0cDM2MC5jb20iLCJhY2NvdW50IjpudWxsLCJwayI6NTQ3LCJ0ZWNobmljYWxfZ3JvdXAiOnRydWUsIm1vYmlsZV9kZXZpY2VfaWQiOiJlZThjaFB3elNWS0haYnRwdTNlVWJMOkFQQTkxYkhOc3Y5RFdwTHlndDc4dWVWaFVqNmdFNTJhZkQ3ZlkzWkd1S3U1bTV2Z2thMnI5dVBFQUtfVFpZMHplY0w2ZHdLSVZQU3VPbG5GeUZFT2xSMGp3bGVReXF1S0x0ay1PR3lEU2VIbDBxSHZqdnpHVXNFWC1ISkFfaUN4b3F2UjhnZGdlaVAyIiwibGFuZ3VhZ2UiOiJlbiIsInVpX2NvbG9yX21vZGUiOm51bGwsIm1vYmlsZSI6IiIsImFjY291bnRfaWQiOjI2NSwiZmlyc3RuYW1lIjoiQ2Flc2FyIiwiYmlsbGluZ19ncm91cCI6dHJ1ZSwidGltZV96b25lIjoiVVMvRWFzdGVybiIsImxhc3RuYW1lIjoiRW5ncm9iYSIsImFkbWluX2dyb3VwIjp0cnVlfSwiY29udGFjdF9hY2wiOnt9LCJzZXJ2aWNlc19hcGlfaWRfbGlzdCI6WyI2IiwiaXRwdm9pY2VsZWdhY3kxMjMiLCIyNDZjMjI4NC1lNDZhLTRiNmYtYTM2NS04MjQxOGIxNjhmNGYiLCJmNWUyYzhlYjg1N2Y0MDljYThiNTYzMzlmN2EwNWYxOSIsIml0cGNsb3VkMTIzIl0sInNlcnZpY2VzX3VzZXJfb2JqZWN0cyI6eyI2Ijp7ImNhbGxmb3J3YXJkX2NhbGxfY29uZmlybWF0aW9uIjpmYWxzZSwicGsiOjEwMDEsImRlZmF1bHRfb3V0Ym91bmRfY2FsbGVyaWRfbnVtYmVyIjoiIiwidXNlcl92b2x1bWVfcHJlZmVyZW5jZSI6NzMsImNhbGxmb3J3YXJkX2VuYWJsZSI6ZmFsc2UsIm9wZXJhdG9yX3BhbmVsX3NldHRpbmdfc2hvd19xdWV1ZXMiOnRydWUsImFjY291bnRfaWQiOjYsInByaXZfbGV2ZWwiOiJhZG1pbiIsImNhbGxfcmVjb3JkaW5nX2ludGVybmFsIjoiZW5hYmxlZCIsIm9wZXJhdG9yX3BhbmVsX3NldHRpbmdfc2hvd191c2VycyI6dHJ1ZSwib3BlcmF0b3JfcGFuZWxfc2V0dGluZ19zaG93X3BhcmtpbmdfbG90Ijp0cnVlLCJwcmVzZW5jZV9pZCI6IjEwMSIsImNhbGxmb3J3YXJkX3F1ZXVlX2NhbGxzIjpmYWxzZSwibGVhZHNfc2V0dGluZ3NfZGlzcGxheV9jb2x1bW5zIjp7fSwiY2FsbGZvcndhcmRfa2VlcF9jYWxsZXJfY2FsbGVyX2lkIjpmYWxzZSwib3BlcmF0b3JfcGFuZWxfZ3JvdXBfaWQiOm51bGwsIndlYl9waG9uZV9lbmFibGVkIjp0cnVlLCJvcGVyYXRvcl9wYW5lbF9zZXR0aW5nc191c2Vyc19wYW5lbF9jYXJkX3Bvc2l0aW9ucyI6e30sImZheGluZ19zZXR0aW5nc19lbmFibGVfbm90aWZpY2F0aW9ucyI6dHJ1ZSwidm1fdG9fZW1haWxfZW5hYmxlZCI6dHJ1ZSwiY2FsbF9yZWNvcmRpbmdfZXh0ZXJuYWwiOiJlbmFibGVkIiwidm9pY2VtYWlsX2JveF9pZCI6IjI2Iiwidm9pY2VtYWlsX2VuYWJsZWQiOnRydWUsIndlYl9waG9uZV9jYWxsX3dhaXRpbmciOmZhbHNlLCJvcGVyYXRvcl9wYW5lbF9zZXR0aW5nX3F1ZXVlc19wYW5lbF9wb3MiOjIsImNvbnRhY3RzX3NldHRpbmdzX2Rpc3BsYXlfY29sdW1ucyI6eyJjb2x1bW5zIjpbXX0sIm9wZXJhdG9yX3BhbmVsX3NldHRpbmdfdXNlcnNfcGFuZWxfcG9zIjoxLCJjYWxsZm9yd2FyZF9udW1iZXIiOiIiLCJvcGVyYXRvcl9wYW5lbF9zZXR0aW5nX3Bhcmtpbmdfc2xvdF9wYW5lbF9wb3MiOjMsImNybV9jb250YWN0X2lkIjo1NDcsImRlZmF1bHRfb3V0Ym91bmRfY2FsbGVyaWRfbmFtZSI6IiJ9fX0.cS0sQWF1tjSKfLX1d7S2kEj8anCD12urGkwtvxpV3N0&convert_base64=true


https://api.itpscorp.com/portal/itpvoice/v2/6/my-extension/voicemail-messages/9583?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3MjcyMDQ0MDAsImlkIjoiNTQ3IiwiaWF0IjoxNzI3MTE4MDAwLCJhY2NvdW50X251bWJlciI6IjE4MjA1MTYyIiwidXNlcl9jb250YWN0Ijp7ImVtYWlsIjoiY2Flc2FyQGl0cDM2MC5jb20iLCJhY2NvdW50IjpudWxsLCJwayI6NTQ3LCJ0ZWNobmljYWxfZ3JvdXAiOnRydWUsIm1vYmlsZV9kZXZpY2VfaWQiOiJlZThjaFB3elNWS0haYnRwdTNlVWJMOkFQQTkxYkhOc3Y5RFdwTHlndDc4dWVWaFVqNmdFNTJhZkQ3ZlkzWkd1S3U1bTV2Z2thMnI5dVBFQUtfVFpZMHplY0w2ZHdLSVZQU3VPbG5GeUZFT2xSMGp3bGVReXF1S0x0ay1PR3lEU2VIbDBxSHZqdnpHVXNFWC1ISkFfaUN4b3F2UjhnZGdlaVAyIiwibGFuZ3VhZ2UiOiJlbiIsInVpX2NvbG9yX21vZGUiOm51bGwsIm1vYmlsZSI6IiIsImFjY291bnRfaWQiOjI2NSwiZmlyc3RuYW1lIjoiQ2Flc2FyIiwiYmlsbGluZ19ncm91cCI6dHJ1ZSwidGltZV96b25lIjoiVVMvRWFzdGVybiIsImxhc3RuYW1lIjoiRW5ncm9iYSIsImFkbWluX2dyb3VwIjp0cnVlfSwiY29udGFjdF9hY2wiOnt9LCJzZXJ2aWNlc19hcGlfaWRfbGlzdCI6WyI2IiwiaXRwdm9pY2VsZWdhY3kxMjMiLCIyNDZjMjI4NC1lNDZhLTRiNmYtYTM2NS04MjQxOGIxNjhmNGYiLCJmNWUyYzhlYjg1N2Y0MDljYThiNTYzMzlmN2EwNWYxOSIsIml0cGNsb3VkMTIzIl0sInNlcnZpY2VzX3VzZXJfb2JqZWN0cyI6eyI2Ijp7ImNhbGxmb3J3YXJkX2NhbGxfY29uZmlybWF0aW9uIjpmYWxzZSwicGsiOjEwMDEsImRlZmF1bHRfb3V0Ym91bmRfY2FsbGVyaWRfbnVtYmVyIjoiIiwidXNlcl92b2x1bWVfcHJlZmVyZW5jZSI6NzMsImNhbGxmb3J3YXJkX2VuYWJsZSI6ZmFsc2UsIm9wZXJhdG9yX3BhbmVsX3NldHRpbmdfc2hvd19xdWV1ZXMiOnRydWUsImFjY291bnRfaWQiOjYsInByaXZfbGV2ZWwiOiJhZG1pbiIsImNhbGxfcmVjb3JkaW5nX2ludGVybmFsIjoiZW5hYmxlZCIsIm9wZXJhdG9yX3BhbmVsX3NldHRpbmdfc2hvd191c2VycyI6dHJ1ZSwib3BlcmF0b3JfcGFuZWxfc2V0dGluZ19zaG93X3BhcmtpbmdfbG90Ijp0cnVlLCJwcmVzZW5jZV9pZCI6IjEwMSIsImNhbGxmb3J3YXJkX3F1ZXVlX2NhbGxzIjpmYWxzZSwibGVhZHNfc2V0dGluZ3NfZGlzcGxheV9jb2x1bW5zIjp7fSwiY2FsbGZvcndhcmRfa2VlcF9jYWxsZXJfY2FsbGVyX2lkIjpmYWxzZSwib3BlcmF0b3JfcGFuZWxfZ3JvdXBfaWQiOm51bGwsIndlYl9waG9uZV9lbmFibGVkIjp0cnVlLCJvcGVyYXRvcl9wYW5lbF9zZXR0aW5nc191c2Vyc19wYW5lbF9jYXJkX3Bvc2l0aW9ucyI6e30sImZheGluZ19zZXR0aW5nc19lbmFibGVfbm90aWZpY2F0aW9ucyI6dHJ1ZSwidm1fdG9fZW1haWxfZW5hYmxlZCI6dHJ1ZSwiY2FsbF9yZWNvcmRpbmdfZXh0ZXJuYWwiOiJlbmFibGVkIiwidm9pY2VtYWlsX2JveF9pZCI6IjI2Iiwidm9pY2VtYWlsX2VuYWJsZWQiOnRydWUsIndlYl9waG9uZV9jYWxsX3dhaXRpbmciOmZhbHNlLCJvcGVyYXRvcl9wYW5lbF9zZXR0aW5nX3F1ZXVlc19wYW5lbF9wb3MiOjIsImNvbnRhY3RzX3NldHRpbmdzX2Rpc3BsYXlfY29sdW1ucyI6eyJjb2x1bW5zIjpbXX0sIm9wZXJhdG9yX3BhbmVsX3NldHRpbmdfdXNlcnNfcGFuZWxfcG9zIjoxLCJjYWxsZm9yd2FyZF9udW1iZXIiOiIiLCJvcGVyYXRvcl9wYW5lbF9zZXR0aW5nX3Bhcmtpbmdfc2xvdF9wYW5lbF9wb3MiOjMsImNybV9jb250YWN0X2lkIjo1NDcsImRlZmF1bHRfb3V0Ym91bmRfY2FsbGVyaWRfbmFtZSI6IiJ9fX0.cS0sQWF1tjSKfLX1d7S2kEj8anCD12urGkwtvxpV3N0&convert_base64=true



// onTap: () async {
//     await Get.toNamed(Routes.SETTINGS_SCREEN_ROUTE, arguments: con.mobileController.text);
//     con.fetchUserProfile();
//   },

// Obx(
//                         () => SizedBox(
//                           width: 70,
//                           child: FlutterSwitch(
//                             height: 22.h,
//                             width: 50.w,
//                             activeColor: Theme.of(context).colorScheme.primary,
//                             padding: 0,
//                             value: con.isDark.value,
//                             onToggle: (val) {
//                               con.isDark.value = val;
//                               con.changeTheme(val);
//                               cc.toggledark();

//                             },
//                           ),
//                         ),
//                       ),